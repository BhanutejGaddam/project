<div class="registration-container">
  <div class="registration-card">
    <h2>Create Your Account</h2>
    <p class="subtitle">Please fill in the details below to register as a Customer.</p>

    @if (registrationSuccess) {
      <div class="success-banner">
        <strong>Registration Successful!</strong>
        <p>Redirecting you to the login page...</p>
      </div>
    }

    <form [formGroup]="registrationForm" (ngSubmit)="onSubmit()">
      <div class="form-row">
        <div class="form-group">
          <label>First Name*</label>
          <input type="text" formControlName="firstName" placeholder="John">
          @if (registrationForm.get('firstName')?.touched && registrationForm.get('firstName')?.invalid) {
            <small class="error">Valid first name is required.</small>
          }
        </div>
        <div class="form-group">
          <label>Middle Name</label>
          <input type="text" formControlName="middleName" placeholder="Quincy">
        </div>
        <div class="form-group">
          <label>Last Name*</label>
          <input type="text" formControlName="lastName" placeholder="Doe">
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label>Email ID*</label>
          <input type="email" formControlName="email" placeholder="john@example.com">
          @if (registrationForm.get('email')?.touched && registrationForm.get('email')?.invalid) {
            <small class="error">Please enter a valid email.</small>
          }
        </div>
        <div class="form-group">
          <label>Phone Number* (10 Digits)</label>
          <input type="text" formControlName="phone" placeholder="1234567890">
          @if (registrationForm.get('phone')?.touched && registrationForm.get('phone')?.invalid) {
            <small class="error">Must be exactly 10 digits.</small>
          }
        </div>
      </div>

      <div class="form-group full-width">
        <label>Address*</label>
        <textarea formControlName="address" rows="2" placeholder="Street, City, State, Zip"></textarea>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label>Username*</label>
          <input type="text" formControlName="username" placeholder="johndoe123">
        </div>
        <div class="form-group">
          <label>Password*</label>
          <input type="password" formControlName="password" placeholder="••••••••">
          @if (registrationForm.get('password')?.touched && registrationForm.get('password')?.invalid) {
            <small class="error">Min 8 chars, 1 uppercase, 1 number.</small>
          }
        </div>
        <div class="form-group">
          <label>Confirm Password*</label>
          <input type="password" formControlName="confirmPassword" placeholder="••••••••">
          @if (registrationForm.hasError('passwordMismatch') && registrationForm.get('confirmPassword')?.touched) {
            <small class="error">Passwords do not match.</small>
          }
        </div>
      </div>

      <div class="form-actions">
        <button type="submit" [disabled]="registrationForm.invalid || isSubmitting" class="btn-register">
          {{ isSubmitting ? 'Processing...' : 'Register' }}
        </button>
        <a routerLink="/customer-login" class="btn-back">Back to Login</a>
      </div>
    </form>
  </div>
</div>