
<div class="dashboard-container">
  <header class="header">
    <div>
      <h1 class="title">Dealer Executive Insights</h1>
      <p class="subtitle">Real-time inventory and revenue monitoring [cite: 5]</p>
    </div>
    <button (click)="onGenerateReport()" class="audit-btn">
      Generate Full Audit Report 
    </button>
  </header>

  <div class="print-area">
    <h3 class="sales-heading">Vehicle Inventory &amp; Sales </h3>

    <div class="metrics-grid metrics-grid--4col">
      <div class="card">
        <small class="label">VEHICLES SOLD</small>
        <h2 class="value"> {{ report?.metrics?.vehiclesSold }} </h2>
      </div>

      <div class="card">
        <small class="label">STOCK REMAINING</small>
        <h2 class="value value--warning">
          {{ report?.metrics?.vehiclesRemaining }}
        </h2>
      </div>

      <div class="card">
        <small class="label">SALES REVENUE</small>
        <h2 class="value value--success">
          {{ report?.metrics?.salesRevenue | currency:'INR':'symbol':'1.0-0' }}
        </h2>
      </div>

      <div class="card">
        <small class="label">SALES PROFIT</small>
        <h2 class="value">
          {{ report?.metrics?.salesProfit | currency:'INR':'symbol':'1.0-0' }}
        </h2>
      </div>
    </div>

    <h3 class="sales-heading">Service Workshop Analytics </h3>

    <div class="metrics-grid metrics-grid--3col">
      <div class="card">
        <small class="label">SERVICE REQUESTS PROCESSED</small>
        <h2 class="value">{{ report?.metrics?.serviceRequestsProcessed | number }}</h2>
        
        <small class="note">
            Capacity: {{ report?.metrics?.serviceCapacity }} / day
             </small>

      </div>

      <div class="card">
        <small class="label">SERVICE REVENUE</small>
        <h2 class="value value--success">
          {{ report?.metrics?.serviceRevenue | currency:'INR':'symbol':'1.0-0' }}
        </h2>
      </div>

      <div class="card">
        <small class="label">SERVICE PROFIT</small>
        <h2 class="value">
          {{ report?.metrics?.serviceProfit | currency:'INR':'symbol':'1.0-0' }}
        </h2>
      </div>
    </div>

    <div class="bottom-row">
      <div class="chart-container">
        <h3 class="chart-title">Monthly Performance Comparison</h3>
        <div class="chart-wrapper">
          <app-revenue-chart [dealerId]="dealerId"></app-revenue-chart>
        </div>
      </div>

      <div class="profit-summary-card">
        <small class="profit-label">NET DEALER PROFIT</small>
        <h2 class="grand-total">
          {{ report?.metrics?.netDealerProfit | currency:'INR':'symbol':'1.0-0' }}
        </h2>
        <p class="profit-note">Consolidated total of Sales and Service margins.</p>
        <hr class="divider" />
        <p class="meta">Audit ID: {{ report?.reportID }} </p>
        <p class="meta">Sync: {{ report?.generatedDate | date:'medium' }} </p>
      </div>
    </div>
  </div>
</div>
